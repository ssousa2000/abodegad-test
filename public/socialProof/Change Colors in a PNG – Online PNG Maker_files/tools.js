/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(e){"use strict";if(typeof e==="undefined"||typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s="application/octet-stream",d=1e3*40,c=function(e){var t=function(){if(typeof e==="string"){n().revokeObjectURL(e)}else{e.remove()}};setTimeout(t,d)},l=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var o=e["on"+t[r]];if(typeof o==="function"){try{o.call(e,n||e)}catch(a){u(a)}}}},p=function(e){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)){return new Blob([String.fromCharCode(65279),e],{type:e.type})}return e},v=function(t,u,d){if(!d){t=p(t)}var v=this,w=t.type,m=w===s,y,h=function(){l(v,"writestart progress write writeend".split(" "))},S=function(){if((f||m&&i)&&e.FileReader){var r=new FileReader;r.onloadend=function(){var t=f?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");var n=e.open(t,"_blank");if(!n)e.location.href=t;t=undefined;v.readyState=v.DONE;h()};r.readAsDataURL(t);v.readyState=v.INIT;return}if(!y){y=n().createObjectURL(t)}if(m){e.location.href=y}else{var o=e.open(y,"_blank");if(!o){e.location.href=y}}v.readyState=v.DONE;h();c(y)};v.readyState=v.INIT;if(o){y=n().createObjectURL(t);setTimeout(function(){r.href=y;r.download=u;a(r);h();c(y);v.readyState=v.DONE});return}S()},w=v.prototype,m=function(e,t,n){return new v(e,t||e.name||"download",n)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(e,t,n){t=t||e.name||"download";if(!n){e=p(e)}return navigator.msSaveOrOpenBlob(e,t)}}w.abort=function(){};w.readyState=w.INIT=0;w.WRITING=1;w.DONE=2;w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null;return m}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else if(typeof define!=="undefined"&&define!==null&&define.amd!==null){define("FileSaver.js",function(){return saveAs})};
/*!
	Autosize 4.0.0
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(e){function t(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),s="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(s)&&(s=0),l()}function n(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function o(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function r(){var t=e.style.height,n=o(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="";var i=e.scrollHeight+s;return 0===e.scrollHeight?void(e.style.height=t):(e.style.height=i+"px",u=e.clientWidth,n.forEach(function(e){e.node.scrollTop=e.scrollTop}),void(r&&(document.documentElement.scrollTop=r)))}function l(){r();var t=Math.round(parseFloat(e.style.height)),o=window.getComputedStyle(e,null),i="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):e.offsetHeight;if(i!==t?"hidden"===o.overflowY&&(n("scroll"),r(),i="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==o.overflowY&&(n("hidden"),r(),i="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==i){a=i;var l=d("autosize:resized");try{e.dispatchEvent(l)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var s=null,u=e.clientWidth,a=null,c=function(){e.clientWidth!==u&&l()},p=function(t){window.removeEventListener("resize",c,!1),e.removeEventListener("input",l,!1),e.removeEventListener("keyup",l,!1),e.removeEventListener("autosize:destroy",p,!1),e.removeEventListener("autosize:update",l,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",p,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",l,!1),window.addEventListener("resize",c,!1),e.addEventListener("input",l,!1),e.addEventListener("autosize:update",l,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:p,update:l}),t()}}function o(e){var t=i.get(e);t&&t.destroy()}function r(e){var t=i.get(e);t&&t.update()}var i="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,o){e.indexOf(n)===-1&&(e.push(n),t.push(o))},delete:function(n){var o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}}(),d=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){d=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(l=function(e){return e},l.destroy=function(e){return e},l.update=function(e){return e}):(l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e,t)}),e},l.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e}),t.exports=l});;
"use strict";window.bridges={},window.primaryTool=null,window.addEventListener("load",function(){makeAutosizeTextareas(),makeColorpickers(),makeWrappingExamples(),makePrimaryTool(),chainPrimaryTool(),fabResize()});function fabResize(){window.screen.width>768&&document.getElementById("fab-main")&&(document.getElementById("fab-main").checked=!0),document.getElementById("fab").classList.remove("invisible")}function getChainData(r){for(var e=function(o){var a={},s=o.sides.getAttribute("data-override-options");s&&(a=JSON.parse(s));var d=[],f=o.options.get(),w=Object.keys(f);if(w.length)for(var m=0;m<w.length;m++){var q=w[m];if(a[q]===void 0){var E=f[q];d.push(encodeURIComponent(q)+"="+encodeURIComponent(E))}}return d},n=function(o){var a=o.sides.getAttribute("data-tool-url")||"",s=e(o);return s.length==0?a:a+encodeURIComponent("?"+s.join("&"))},t=[],i=r;i.chainChild;)i=i.chainChild,t.push(n(i));return t}function chainPrimaryTool(){var r=getURLQuery("chain");r&&chainToolWithArray(primaryTool,r.split(","),function(e){})}function removeChainedTools(r){for(var e=document.querySelector(".all-tools-container"),n=r.sides.querySelector(".side.output .side-widgets .widget-chain"),t=e.querySelector(".tool-chained:last-child");t&&t.tool!=r;)t.tool.chainParent.removeChain(),t.tool.destroy(),t=e.querySelector(".tool-chained:last-child");n.classList.remove("is-disabled"),n.textContent="Chain with...",r.sides.classList.remove("is-chained"),window.scrollTo({top:r.sides.offsetTop,behavior:"smooth"})}function chainToolWithArray(r,e,n){for(var t=document.querySelectorAll(".all-tools-container .tool"),i=r,o=null,a=0,s=0;a<e.length;a++,s++){o=e[a];var d=o.split(encodeURIComponent("?")),f=d[0],w={},m=d[1];if(m){m=decodeURIComponent(m).split("&");for(var q=0;q<m.length;q++){var E=m[q].split("="),O=decodeURIComponent(E[0]),T=decodeURIComponent(E[1]||"");(T=="true"||T=="yes"||T=="false"||T=="no")&&(T=T=="true"||T=="yes"),O&&(w[O]=T)}}var I=t[s+1];if(!I){i.output.showNegativeBadge('No tool with URL "{0}" was found'.format(f),"Last URL in your query might be invalid."),window.scrollTo({top:i.sides.offsetTop,behavior:"smooth"});break}if(f!=I.getAttribute("data-tool-url")){if(e[a+1])var B='"'+e[a+1].split(encodeURIComponent("?"))[0]+'"';else var B="next tool";i.output.showNegativeBadge('No tool with URL "{0}" was found'.format(f),"Chaining with {0} instead.".format(B)),s--;continue}var h=I.getAttribute("data-tool-bridge")||I.getAttribute("data-tool-url"),g=createTool(h,{sides:I,examples:null,chained:!0});if(!g){i.output.showNegativeBadge(`Can't chain with "{0}"`.format(f),'Bridge "{0}" is not available.'.format(h)),window.scrollTo({top:i.sides.offsetTop,behavior:"smooth"});break}m&&g.options.set(w),i.attachChain(g),i.output.showStatus("chained!"),i.sides.classList.add("is-chained"),window.scrollTo({top:g.sides.offsetTop,behavior:"smooth"}),makeAutosizeTextareas(),makeColorpickers(),i=g}n(i)}function chainToolWith(r,e,n){var t=r.sides,i=r.output,o=r.sides.querySelector(".side.output .side-widgets .widget-chain"),a=document.querySelector(".all-tools-container");o.classList.remove("is-disabled"),t.classList.remove("is-chained"),o.classList.add("is-disabled"),o.textContent="Chaining...",i.showStatus("chaining..."),i.hideBadge(),Site.GET("chain.json?tool="+e,function(s){var d=s.responseText;if(s.readyState==4&&s.status==200)try{var f=JSON.parse(d);i.showStatus("loading libraries...");var w={js:f.js,css:f.css};Site.resources.importFrom(w,function(){var m=document.createElement("div");m.innerHTML=f.html.trim();var q=m.firstChild;a.insertBefore(q,r.sides.nextSibling);var E=createTool(f.call,{sides:q,examples:null,chained:!0});r.attachChain(E),i.showStatus("chained!"),o.textContent="Chained!",t.classList.add("is-chained"),i.hideBadge(),window.scrollTo({top:E.sides.offsetTop,behavior:"smooth"}),makeAutosizeTextareas(),makeColorpickers(),typeof n=="function"&&n(E)})}catch(m){console.log(m),i.showNegativeBadge("Server error","Something has gone wrong while chaining the tool.",-1),o.classList.remove("is-disabled"),o.textContent="Retry chain?"}else s.readyState==4&&(i.showNegativeBadge("Server error","We can't chain this tool due to a server error.",-1),o.classList.remove("is-disabled"),o.textContent="Retry chain?")})}function makePrimaryTool(){var r=document.querySelector(".all-tools-container .tool-primary"),e=r.getAttribute("data-tool-bridge")||r.getAttribute("data-tool-url");primaryTool=createTool(e,{sides:r,examples:document.querySelector(".examples-primary"),chained:!1})}function createTool(r,e){var n=window.bridges[r]!==void 0?window.bridges[r]():!1,t=null;if(!n)return window.raise('Fatal error: Bridge "{0}" is not available.'.format(r)),t;var i=n.config,o=Object.keys(i).length==0;if(o?t=new TextTool(n.converter,null,e):i.type=="text"?t=new TextTool(n.converter,i,e):i.type=="image"?t=new ImageTool(n.converter,i,e):i.type=="file"&&(t=new FileTool(n.converter,i,e)),!o)for(var a=i.override,s=Object.keys(a||{}),d=0;d<s.length;d++){var f=s[d];t.override(f).with(a[f])}return t.start()}function TextTool(r,e,n){var t=new Tool({converter:r,sides:n.sides,examples:n.examples,chained:n.chained});return t}function FileTool(r,e,n){var t=new Tool({converter:r,sides:n.sides,examples:n.examples,chained:n.chained});function i(h,g){h.indexOf("http:")!==0&&h.indexOf("https:")!==0&&h.indexOf("ftp:")!==0&&h.indexOf("/")!==0&&(h="http://"+h);var b=new XMLHttpRequest;b.onreadystatechange=function(){this.readyState==4&&this.status==200?g(this.response):this.readyState==4&&this.status==0&&i("/get-external-file?url="+encodeURIComponent(h),g)},b.open("GET",h,!0),b.responseType="blob",b.send()}var o=null,a=null;function s(h){o.dataset.multitypeMode=h,t.input.currentMode=h,w()}function d(){return o.dataset.multitypeAllowText=="true"}function f(){return o.dataset.multitypeMode}function w(){console.log("Updating file info...")}function m(h){h instanceof Blob?(this.input.blob=h,s("file")):(a.value=h,s("text"))}function q(){var h=f();if(h=="text")return a.value;if(h=="file")return this.input.blob}function E(h){var g=this;g.input.showStatus("importing...");var b=h.target.files[0];b?(g.input.setValue(b),g.input.showStatus("imported"),g.convert(Trigger.IMPORT)):g.input.showWarningBadge("Can't import","No file was selected.",-1)}function O(h){var g=this,b=g.input.getValue();if(!b)return h(null,"nothing to save");if(b instanceof Blob)return h([b,"input-"+g.siteName+".bin"],null);var C=new Blob([b],{type:"text/plain;charset=utf-8"});return h([C,"input-"+g.siteName+".txt"],null)}function T(){var h=this,g=f();if(g=="text"){a.select();var b=!1;try{b=document.execCommand("copy")}catch(C){}b?h.input.showStatus("copied"):h.input.showStatus("can't copy")}else h.input.showStatus("can't copy files (yet)")}function I(h){var g=this,b=h.querySelector(".input-sample");if(window.scrollTo({top:g.sides.offsetTop,behavior:"smooth"}),b.classList.contains("text-sample"))if(d()){var C=b.querySelector("span").textContent;g.input.setValue(C),g.options.set(g.options.get(h)),g.convert(Trigger.EXAMPLE)}else g.input.showWarningBadge("Unsupported example","This example uses text input, which is not supported by this tool.");else{var x=b.getAttribute("data-src");g.options.set(g.options.get(h)),g.input.showStatus("loading example..."),i(x,function(M){g.input.setValue(M),g.input.showStatus("imported"),g.convert(Trigger.EXAMPLE)})}}function B(h){var g=this,b=h.queryURL,C=h.queryInput||h.savedInput,x=h.then,M=function(R){var A=document.createElement("a");A.href=R;var l=A.hostname.split("."),c=l[l.length-1],p=l[l.length-2];return!p||!c?"url":p+"."+c};if(b){var N=M(b);g.input.showStatus("loading from {0}...".format(N)),i(b,function(R){g.input.setValue(R),g.input.showStatus("loaded from {0}".format(N)),g.convert(Trigger.IMPORT),x(!0)})}else d()&&C&&(g.input.showStatus("loading from input..."),g.input.setValue(C),g.input.showStatus("loaded from input"),g.convert(Trigger.RESTORE),x(!0));x()}return e.input&&(o=t.input.element.querySelector(".data-wrapper"),a=o.querySelector(".mode-text .data"),t.input.currentMode="file",t.input.blob=null,t.input.setValue=m.bind(t),t.input.getValue=q.bind(t),t.input.importFromFile=E.bind(t),t.input.download=O.bind(t),t.input.toClipboard=T.bind(t),t.setExample=I.bind(t),t.restore.input=B.bind(t)),t}function ImageTool(r,e,n){var t=new Tool({converter:r,sides:n.sides,examples:n.examples,chained:n.chained});function i(l,c){if(l.indexOf("data:")===0){for(var p=l.slice(5).split(";"),v=window.atob(p[1].split(",")[1]),u=[],y=0;y<v.length;y++)u.push(v.charCodeAt(y));c(new Blob([new Uint8Array(u)],{type:p[0]}))}else{l.indexOf("http:")!==0&&l.indexOf("https:")!==0&&l.indexOf("ftp:")!==0&&l.indexOf("/")!==0&&(l="http://"+l);var S=new XMLHttpRequest;S.onreadystatechange=function(){this.readyState==4&&this.status==200?c(this.response):this.readyState==4&&this.status==0&&i("/get-external-file?url="+encodeURIComponent(l),c)},S.open("GET",l,!0),S.responseType="blob",S.send()}}function o(l){var c=l.input.element.querySelector(".widget-load input[type=file]");c.value="",c.type="",c.type="file"}function a(l){var c=this;if(l===void 0){var p=c.output.element.querySelector(".data");p.toBlob(function(v){c.dispatchEvent("response",v)});return}c.dispatchEvent("response",l)}function s(){return this.input.blob}function d(){return this.output.blob}function f(l){this.output.blob=l}function w(l,c){var p=this;if(!l){c&&c();return}if(l instanceof Blob)try{p.input.blob=l;var v=document.createElement("img");v.onload=function(){var u=p.input.element.querySelector("canvas.data"),y=p.input.element.querySelector(".side-box");y.classList.remove("empty"),u.width=v.naturalWidth,u.height=v.naturalHeight,q(p),u.getContext("2d").drawImage(v,0,0),URL.revokeObjectURL(v.src),o(p),c&&c()},v.src=URL.createObjectURL(l)}catch(u){}else typeof l=="string"&&i(l,function(u){w.call(p,u,c)})}function m(l,c){document.querySelector(".image-output-placeholder")&&document.querySelector(".image-output-placeholder").remove(),c||(c=Trigger.IMPORT);var p=this;p.input.setValue(l,function(){p.input.showStatus("imported"),A.classList.remove("importing"),p.convert(c)})}function q(l){for(var c=[l.input.element.querySelector("canvas.data"),l.output.element?l.output.element.querySelector("canvas.data"):null,l.input.element.querySelector("canvas.preview"),l.output.element?l.output.element.querySelector("canvas.preview"):null],p=0;p<c.length;p++)c[p]&&(c[p].classList.add("not-empty"),c[p].style.transform="",c[p].removeAttribute("data-scroll-x"),c[p].removeAttribute("data-scroll-y"))}function E(l){var c=this,p=l.querySelector(".input-sample"),v=p.getAttribute("data-src");window.scrollTo({top:c.sides.offsetTop,behavior:"smooth"}),setTimeout(()=>{c.options.set(c.options.get(l)),c.input.showStatus("loading example..."),i(v,function(u){m.call(c,u,Trigger.EXAMPLE)})},500)}function O(l){return function(c){var p=this;return!p.input.blob||!p.input.element?c(null,"nothing to save"):(typeof l=="function"&&(l=l.call(p)),c([p.input.blob,"input-"+p.siteName+"."+l],null))}}function T(l){var c={png:"image/png",jpg:"image/jpeg",bmp:"image/bmp",gif:"image/gif"};return function(p){var v=this;if(!v.output.element)return p(null,"nothing to save");typeof l=="function"&&(l=l.call(v));var u=c[l]||"image/png",y=v.output.element.querySelector(".data");y.toBlob(function(S){p([S,"output-"+v.siteName+"."+l],null)},u)}}function I(l){try{navigator.userAgent.includes("Firefox")?l({state:"granted"}):navigator.permissions.query({name:"clipboard-write"}).then(function(c){l(c||null)})}catch(c){l(null)}}function B(l,c){var p=function(u){c(u,null)},v=function(u){c(null,u)};try{let u={};u[l.type]=l;const y=[new ClipboardItem(u)];navigator.clipboard.write(y).then(p,v)}catch(u){c(null,u)}}function h(l){var c=this,p=c[l];I(function(v){if(v===null)return p.showStatus("clipboard not supported");if(v.state!=="granted")return p.showStatus("clipboard access denied");p.download(function(u,y){if(y!==null)return p.showStatus("nothing to copy");B(u[0],function(S,L){if(L!==null)return p.showStatus(L.message||"clipboard error");p.showStatus("copied to clipboard!")})})})}function g(l){var c=this;l.preventDefault();var p=c.input.element.querySelector(".side-box");p.classList.remove("dragging"),c.input.showStatus("")}function b(l){var c=this;l.preventDefault(),c.input.showStatus("drop file to import!");var p=c.input.element.querySelector(".side-box");return p.classList.contains("dragging")||p.classList.add("dragging"),!1}function C(l){var c=this,p=c.input.element.querySelector(".side-box");p.classList.remove("dragging");var v=l.dataTransfer;if(v.items)for(var u=0;u<v.items.length;u++)v.items.remove(u);else l.dataTransfer.clearData()}function x(l,c){c.preventDefault();var p=this,v=p.input.element.querySelector(".side-box");v.classList.remove("dragging"),v.classList.add("importing"),p.input.showStatus("importing...");for(var u=c.dataTransfer.files,y=l=="*",S=0;S<u.length;S++){var L=u[S];if(y||L.type.indexOf(l)!==-1)m.call(p,L,Trigger.IMPORT);else{var k=L.type?'"'+L.type+'"':"This";p.input.showWarningBadge("Can't import",k+" format is not allowed.",-1)}}return v.classList.remove("importing"),v.classList.remove("dragging"),!1}function M(l,c){var p=this;p.input.showStatus("importing...");for(var v=(c.clipboardData||c.originalEvent.clipboardData).items,u=l=="*",y=0;y<v.length;y++){var S=v[y];if(S.kind==="file"){var L=S.getAsFile();if(u||L.type.indexOf(l)!==-1)m.call(p,L,Trigger.IMPORT);else{var k=L.type?'"'+L.type+'"':"This";p.input.showWarningBadge("Can't import",k+" format is not allowed.",-1)}}}}function N(l){var c=l.then;if(l.hasInput){var p=function(u){var y=document.createElement("a");y.href=u;var S=y.hostname.split("."),L=S[S.length-1],k=S[S.length-2];return!k||!L?"url":k+"."+L},v=l.queryURL||l.queryInput||l.savedInput;l.showStatus("loading from url..."),t.input.setValue(v,c)}else c()}function R(l){var c=this;c.input.showStatus("importing...");var p=l.target.files[0];p?m.call(c,p,Trigger.IMPORT):c.input.showWarningBadge("Can't import","No file was selected.",-1)}if(e.input){if(e.input.import=="base64"&&(t.input.importFromFile=R.bind(t)),e.parseImage===!1?t.parseImage=!1:t.parseImage=!0,e.input.image==!0){t.setExample=E.bind(t),document.addEventListener("paste",M.bind(t,"image/"));var A=t.input.element.querySelector(".side-box");A.addEventListener("dragover",b.bind(t),!1),A.addEventListener("dragend",C.bind(t),!1),A.addEventListener("dragleave",g.bind(t),!1),A.addEventListener("drop",x.bind(t,"image/"),!1),A.querySelector(".preview").addEventListener("click",function(){var l=t.input.element.querySelector(".side-box").classList.contains("empty");l&&t.input.element.querySelector(".widget-load").click()}),t.input.setValue=w.bind(t),t.input.getValue=s.bind(t),t.restore.input=N.bind(t)}e.input.download&&(t.input.download=O(e.input.download).bind(t)),t.input.toClipboard=h.bind(t,"input")}return e.output&&(e.output.download&&(t.output.download=T(e.output.download).bind(t)),t.output.toClipboard=h.bind(t,"output"),t.output.setValue=f.bind(t),t.output.getValue=d.bind(t),t.respond=a.bind(t)),t}function Tool(r){var e=this;e.sides=r.sides,e.input={getValue:function(){if(!e.input.element)return"";var n=e.input.element.querySelector("textarea.data");return n?n.value:""},setValue:function(n){if(!e.input.element)return"";var t=e.input.element.querySelector("textarea.data");if(t)return t.value=n,e.save(),t.value},showStatus:function(n){var t=e.input.element;return e.showStatus(t,n)},showPositiveBadge:function(n,t){var i=e.input.element;return e.showBadge(i,"positive",n,t)},showNegativeBadge:function(n,t){var i=e.input.element;return e.showBadge(i,"negative",n,t)},showWarningBadge:function(n,t){var i=e.input.element;return e.showBadge(i,"warning",n,t)},hideBadge:function(){var n=e.input.element;return e.hideAllBadges(n)},importFromFile:function(n){e.input.showStatus("importing...");var t=n.target.files[0];if(t){var i=new FileReader;i.onload=function(o){var a=i.result;e.input.setValue(a),e.convert(Trigger.IMPORT),e.input.showPositiveBadge("Import successful!",t.name+" ("+sizeToString(t.size)+") imported as plain text.",-1)},i.readAsText(t)}else e.input.showWarningBadge("Can't import","No file was selected.",-1)},download:function(n){var t=new Blob([e.input.getValue()],{type:"text/plain;charset=utf-8"});n([t,"input-"+e.siteName+".txt"],null)},toClipboard:function(){return e.toClipboard(e.input)},showWidgetToggle:function(n){e.dispatchEvent("widgetshow",{side:"input",name:n,cause:"function"})},hideWidgetToggle:function(){e.dispatchEvent("widgethide",{side:"input",cause:"function"})},element:null},e.output={getValue:function(){if(!e.output.element)return"";var n=e.output.element.querySelector("textarea.data");return n?n.value:""},setValue:function(n){if(!e.output.element)return"";var t=e.output.element.querySelector("textarea.data");return t?t.value=n:""},showError:function(n){e.output.hideError(),e.output.hideBadge(),e.output.element.classList.add("error"),e.output.showNegativeBadge("Can't convert.","An error has occurred."),e.output.showStatus("error"),e.output.setValue("Error: {0}".format(n||"(not specified)"))},hideError:function(){e.output.hideBadge(),e.output.element.classList.remove("error")},showPositiveBadge:function(n,t){var i=e.output.element;e.showBadge(i,"positive",n,t)},showNegativeBadge:function(n,t){var i=e.output.element;e.showBadge(i,"negative",n,t)},showWarningBadge:function(n,t){var i=e.output.element;e.showBadge(i,"warning",n,t)},hideBadge:function(){var n=e.output.element;e.hideAllBadges(n)},download:function(n){var t=new Blob([e.output.getValue()],{type:"text/plain;charset=utf-8"});n([t,"output-"+e.siteName+".txt"],null)},toClipboard:function(){return e.toClipboard(e.output)},showStatus:function(n){var t=e.output.element;return e.showStatus(t,n)},showWidgetToggle:function(n){e.dispatchEvent("widgetshow",{side:"output",name:n,cause:"function"})},hideWidgetToggle:function(){e.dispatchEvent("widgethide",{side:"output",cause:"function"})},element:null},e.save=function(){if(e.isPrimary){if(typeof Storage=="undefined")return e.warn("error:save","local storage not supported"),!1;var n=e.input.element?e.input.element.querySelector(".data"):!1,t=e.options.element,i=window.localStorage||null;if(i&&i.setItem("autosave_origin",window.location.pathname),n&&n.getAttribute("data-autosave")!==null){var o=i.autosave_input,a=e.input.getValue();o!==a&&(i&&i.setItem("autosave_input",a),e.input.showStatus("saved"))}if(t&&t.getAttribute("data-autosave")!==null){var o=i.autosave_options||{},a=JSON.stringify(e.options.get());isEquivalent(o,a)||i&&i.setItem("autosave_options",a)}}},e.restore={input:function(n){var t=n.then;if(n.hasInput){var i=function(s){var d=document.createElement("a");d.href=s;var f=d.hostname.split("."),w=f[f.length-1],m=f[f.length-2];return!m||!w?"url":m+"."+w},o=function(s){var d=e.input.setValue;d.length==2?d(s,t.bind(null,!0)):d.length==1&&(d(s),t(!0))},a=function(s,d){s.indexOf("http:")!==0&&s.indexOf("https:")!==0&&s.indexOf("ftp:")!==0&&s.indexOf("/")!==0&&(s="http://"+s);var f=new XMLHttpRequest;f.onreadystatechange=function(){this.readyState==4&&this.status==200?d(this.responseText):this.readyState==4&&this.status==0&&a("/get-external-file?url="+encodeURIComponent(s),d)},f.open("GET",s,!0),f.responseType="text",f.send()};n.queryURL?(n.showStatus("loading from {0}...".format(i(n.queryURL))),a(n.queryURL,o)):(n.showStatus("loading from input..."),o(n.queryInput||n.savedInput))}else t()},options:function(n){var t=n.then;if(n.hasOptions){n.savedOptions&&e.options.set(n.savedOptions);for(var i=e.options.get(),o={},a=Object.keys(n.fullQuery||{}),s=0;s<a.length;s++){var d=a[s],f=n.fullQuery[d]!==void 0,w=i[d]!==void 0;f&&w&&(o[d]=n.fullQuery[d])}var m=Object.keys(o).length>0;m&&e.options.set(o),t(m)}else t(!1)},all:function(){if(e.isPrimary){var n=window.localStorage||{},t=n.autosave_origin&&window.location.pathname!==n.autosave_origin;t&&(n.autosave_input="",n.autosave_options="{}");var i=getURLQuery(),o=n.autosave_input||"",a=JSON.parse(n.autosave_options||"{}"),s=i.input,d=i["input-url"];e.restore.input({savedInput:o,queryInput:s,showStatus:e.input.showStatus,hasInput:!!e.input.element,queryURL:d,then:function(){e.restore.options({savedOptions:a,hasOptions:!!e.options.element,fullQuery:i,then:function(f){e.convert(Trigger.RESTORE),s===null&&e.input.showWarningBadge("Can't load input from query","The ?input parameter is malformed."),d===null&&e.input.showWarningBadge("Can't load input from URL","The ?input-url parameter is malformed.")}})}})}}},e.swap=function(n){Site.POST("/api/v1/stats/fab/ui/swap",{category:document.getElementById("siteinfo").dataset.category},function(t){if(t.readyState==4&&t.status==200&&e.input.element&&e.output.element){var i=e.input.getValue()||"",o=e.output.getValue()||"",a=e.input.element.querySelector("label"),s=e.output.element.querySelector("label");if(!a.style.left){var d=Math.abs(s.getBoundingClientRect().left-a.getBoundingClientRect().left);if(a.style.left=d+"px",s.style.left=-1*d+"px",e.input.setValue(o),e.output.setValue(i),typeof Storage!="undefined"){var f=window.localStorage;f.setItem("autosave_origin",n),f.setItem("autosave_input",o)}setTimeout(function(){window.location.assign(n)},100)}}})},e.trigger=null,e.resetErrorsOnConvert=!0,e.respond=function(n){n===void 0&&(n=e.output.getValue()),e.dispatchEvent("response",n)},e.events={response:[],optionchange:[],widgetshow:[],widgethide:[]},e.dispatchEvent=function(n,t){if(Object.keys(e.events).indexOf(n)===-1)throw'Event "'+n+'" is not supported';for(var i=e.events[n],o=0;o<i.length;o++){var a=i[o].handler.call(e,t);if(i[o].once&&e.events[n].splice(o,1),a===!1)break}},e.removeEventListener=function(n,t){if(Object.keys(e.events).indexOf(n)===-1)throw'Event "'+n+'" is not supported';if(typeof t=="undefined")throw"Listener note is not specified";for(var i=e.events[n],o=0;o<i.length;o++)i[o].note==t&&e.events[n].splice(o,1)},e.addEventListener=function(n){typeof n!="object"&&(n={});var t=n.event||"undefined",i=n.handler||!1;if(!i)throw"Event handler is not specified";if(Object.keys(e.events).indexOf(t)===-1)throw'Event "'+t+'" is not supported';e.events[t].push({handler:i,note:n.note||void 0,once:n.once||!1})},e.isPrimary=!r.chained,e.chainParent=null,e.chainChild=null,e.getCompatibility=function(){var n=e.sides,t=n.getAttribute("data-accepts")||!1,i=n.getAttribute("data-returns")||!1;return{accepts:t,returns:i}},e.attachChain=function(n){e.chainChild=n,n.chainParent=e,e.addEventListener({event:"response",note:"chain",handler:function(o){var a=n.input.setValue;e.log({type:"chain propagate",from:e,to:n,data:o}),a.length==2?a(o,function(){n.convert(Trigger.CHAIN)}):a.length==1&&(a(o),n.convert(Trigger.CHAIN))}});var t=e.output.getValue();if(t){e.log({type:"chain connect",from:e,to:n,data:t});var i=n.input.setValue;i.length==2?i(t,function(){n.convert(Trigger.CHAIN)}):i.length==1&&(i(t),n.convert(Trigger.CHAIN))}},e.removeChain=function(){e.chainChild.chainParent=null,e.chainChild=null,e.removeEventListener("response","chain")},e.convert=function(n){var t=!!e.input.element,i=!!e.output.element;if(e.trigger=null,n&&(e.trigger=n),e.log({type:"conversion",trigger:n}),t&&i){e.resetErrorsOnConvert&&(e.output.hideError(),e.input.hideBadge());var o=e.input.getValue();try{o&&document.querySelector(".image-output-placeholder")&&document.querySelector(".image-output-placeholder").remove();var a=e.converter(o);a!==void 0&&e.dispatchEvent("response",a)}catch(s){window.raise("<b>Conversion error:</b> "+s.toString()),console.error(s),o?(e.warn("error:converting",s.toString()),e.output.showError(s)):e.output.setValue("")}}else if(t&&!i){e.resetErrorsOnConvert&&e.input.hideBadge();try{var o=e.input.getValue();e.converter(o)}catch(s){window.raise("<b>Conversion error:</b> "+s.toString()),console.error(s),o?(e.warn("error:converting",s.toString()),e.input.showNegativeBadge("Error has occured",s,-1)):e.output.setValue("")}}else if(!t&&i){e.resetErrorsOnConvert&&e.output.hideError();try{var a=e.converter();a!==void 0&&e.dispatchEvent("response",a)}catch(s){window.raise("<b>Conversion error:</b> "+s.toString()),console.error(s),e.warn("error:converting",s.toString()),e.output.showError(s)}}e.save()},e.converter=function(){},e.options={default:null,get:function(n){var t=e.sides.getAttribute("data-override-options");if(n||(n=e.options.element),!n)return t?JSON.parse(t):{};var i=n.getAttribute("data-resets-all-options")!==null;i&&e.options.reset();for(var o=n.querySelectorAll(".input-option"),a={},s=0;s<o.length;s++){var d=o[s],f=d.getAttribute("data-index"),w=null,m=d.tagName.toLowerCase();d.type=="checkbox"||d.type=="radio"?w=d.checked:(d.type=="text"||m=="textarea"||m=="select")&&(w=d.value),a[f]=w}if(t)for(var q=JSON.parse(t),E=Object.keys(q),s=0;s<E.length;s++){var O=E[s];a[O]=q[O]}return a},set:function(n){var t=e.options.element;if(t)for(var i=t.querySelectorAll(".input-option"),o=0;o<i.length;o++){var a=i[o],s=a.getAttribute("data-index");if(typeof n[s]!="undefined"){var d=n[s],f=a.tagName.toLowerCase();a.type=="checkbox"||a.type=="radio"?a.checked=d:(a.type=="text"||f=="textarea"||f=="select")&&(a.value=d),a.type=="textarea"&&(a.style.height="auto",a.style.height=a.scrollHeight+"px"),a.dataset.option=="color"&&Site.changeColor(a)}}return e.options.get()},reset:function(){e.options.set(e.options.default)},describe:function(n,t){var i=e.options.element;if(i){var o=i.querySelector('.option-detail-key[data-detail-key="'+n+'"]');o&&(o.innerText=t)}return e.options.get()},element:null},e.accidents=[],e.warn=function(n,t){var i={event:n,data:t};e.accidents.push(i),window.raise("<b>Tool warning:</b> ("+n.toString()+") "+t.toString(),"warning")},e.log=function(n){window.log(e,n)},e.init=function(){var n=document.getElementById("fab"),t=e.sides,i=r.examples;e.input.element=t.querySelector(".side.input"),e.output.element=t.querySelector(".side.output"),e.options.element=t.querySelector(".converter-options");var o=e.options.element?e.options.element.querySelectorAll(".option-row .option-details"):null;if(o)for(var a=0;a<o.length;a++){var s=o[a];s.innerHTML=s.innerHTML.replace(/{([a-z0-9\-]+)}/ig,function(v,u){var y=document.createElement("span");return y.className="option-detail-key",y.setAttribute("data-detail-key",u),y.innerText="<"+u+">",y.outerHTML})}var d=n.querySelector(".tool-toggle-layout");d&&d.addEventListener("click",function(){n.classList.toggle("expanded"),setTimeout(function(){e.convert(Trigger.RESIZE)},100)});var f=t.querySelector(".sides-primary-button button");f&&f.addEventListener("click",function(){e.convert(Trigger.ACTION)});var w=n.querySelector(".tool-swap");w&&w.addEventListener("click",function(v){var u=w.getAttribute("data-swap-to");e.swap(u)});var m=n.querySelector(".tool-create-link"),q=n.querySelector(".sides-wrapper"),E=n.querySelector(".tweet-link-button");if(E&&E.addEventListener("click",function(){var v=this.getAttribute("data-tweet-url");window.open(v)}),m&&e.sides.classList.contains("tool-primary")){let v=function(){var u=document.getElementById("fab-share-link"),y=window.location.origin+window.location.pathname+"?",S=[],L=e.options.get(),k={},H=e.sides.getAttribute("data-override-options");H&&(k=JSON.parse(H));var j=getChainData(e);if(j.length>0&&S.push("chain="+encodeURIComponent(j.join(","))),e.input.element&&document.getElementById("share-include-input").checked){var _=typeof e.input.getValue()=="string",D=getURLQuery("input"),W=getURLQuery("input-url");W?S.push("input-url="+encodeURIComponent(W)):D?S.push("input="+encodeURIComponent(D)):_&&S.push("input="+encodeURIComponent(e.input.getValue()))}var P=Object.keys(L);if(P.length)for(var V=0;V<P.length;V++){var U=P[V];if(k[U]===void 0){var F=L[U];S.push(encodeURIComponent(U)+"="+encodeURIComponent(F))}}u.value=y+S.join("&")};m.addEventListener("click",function(u){v(),u.stopPropagation()}),document.getElementById("share-include-input").addEventListener("change",function(u){v(),u.stopPropagation()})}if(e.input.element){makeToggleableWidgets(e,"input"),e.input.element.addEventListener("keyup",function(){e.convert(Trigger.KEYPRESS)});var O=t.querySelector(".widget-load");O.addEventListener("click",function(){t.querySelector(".widget-load input").click()});var T=t.querySelector(".widget-load input");T.addEventListener("change",function(v){e.input.importFromFile(v)},!1);var I=t.querySelector(".input .widget-save-as");I.addEventListener("click",function(){e.input.showStatus("saving..."),e.input.download(function(v,u){if(u)return e.input.showStatus(u);saveAs(v[0],v[1])})});var B=t.querySelector(".input .widget-copy");B.addEventListener("click",function(){e.input.toClipboard()})}if(e.output.element){makeToggleableWidgets(e,"output"),e.addEventListener({event:"widgetshow",handler:function(v){if(v.name=="toggle-chain"){var u=t.querySelector(".output");populateChainCombinator(e,u)}}}),e.addEventListener({event:"widgetshow",handler:function(v){if(v.name=="toggle-remove-chain"){var u=getChainData(e).length;u==1?u+=" tool":u>1&&(u+=" tools");var y=t.querySelector(".output .toggle-remove-chain .remove-how-many");y.textContent=u}}}),e.addEventListener({event:"widgethide",handler:function(v){var u=t.querySelector(".output"),y=u.classList.contains("combinator-active");v.side=="output"&&y&&u.classList.remove("combinator-active")}});var h=t.querySelector(".output .toggle-remove-chain .remove-chain-yes");h.addEventListener("click",function(){removeChainedTools(e),e.output.hideWidgetToggle()});var g=t.querySelector(".output .toggle-chain .chain-search");g.addEventListener("keyup",function(){chainSearch(t)});var b=t.querySelector(".output .widget-copy");b.addEventListener("click",function(v){if(document.getElementById("siteinfo").dataset.is_premium=="False"){document.getElementsByClassName("btn-close")[0].style.display="none",b.innerHTML="Saving...",b.setAttribute("disabled","disabled");var u=10,y=setInterval(function(){u<=0?(clearInterval(y),b.innerHTML="Copy to clipboard",b.removeAttribute("disabled"),e.output.toClipboard(),document.getElementsByClassName("btn-close")[0].style.display="block",Site.POST(`/api/v1/stats/ui/${document.getElementById("siteinfo").dataset.category}/count_free_clipb_post`,{type:"count_free_clipb_post"},function(){})):b.innerHTML=`${u} second${u>1?"s":""} remaining`,u-=1},1e3);Site.POST(`/api/v1/stats/ui/${document.getElementById("siteinfo").dataset.category}/count_free_clipb_pre`,{type:"count_free_clipb_pre"},function(){})}else b.innerHTML="Copy to clipboard",b.removeAttribute("disabled"),e.output.toClipboard(),Site.POST(`/api/v1/stats/ui/${document.getElementById("siteinfo").dataset.category}/count_premium_clipb`,{type:"count_premium_clipb"},function(){})});var C=t.querySelector(".output .widget-save-as"),x=e.output.element.querySelector("textarea.data"),M=0,N=0;if(x){var R=document.getElementById(`copyModal${x.dataset.hash}`);document.getElementById("siteinfo").dataset.is_premium=="False"&&Site.checkLimit(R)&&(x.classList.add("locked"),x.setAttribute("unselectable","on")),x.addEventListener("copy",function(v){e.output.showStatus("copied");var u=new window.bootstrap.Modal(document.getElementById(`copyModal${v.target.dataset.hash}`),{});document.getElementById("siteinfo").dataset.is_premium=="False"?(M<Date.now()&&(Site.POST(`/api/v1/stats/ui/${document.getElementById("siteinfo").dataset.category}/count_free_copy`,{type:"count_free_copy"},function(){}),M=Date.now()+3e3),Site.checkLimit(R)&&(x.classList.add("locked"),x.setAttribute("unselectable","on")),(N<Date.now()||Site.checkLimit(R))&&(Site.modalLimit(R,Site.checkLimit(R),"copy"),N=Date.now()+1*6e4,u.show())):M<Date.now()&&(Site.POST(`/api/v1/stats/ui/${document.getElementById("siteinfo").dataset.category}/count_premium_copy`,{type:"count_premium_copy"},function(){}),M=Date.now()+3e3)}),x.addEventListener("click",function(v){if(Site.checkLimit(R)){Site.modalLimit(R,Site.checkLimit(R),"copy");var u=new window.bootstrap.Modal(document.getElementById(`copyModal${v.target.dataset.hash}`),{});u.show()}})}C.addEventListener("click",function(v){var u=document.getElementById("gif-preparing");e.input.getValue()!=null&&document.getElementById("siteinfo").dataset.is_premium=="False"&&(document.getElementsByClassName("btn-close")[1].style.display="none",C.innerHTML="Preparing...",C.setAttribute("disabled","disabled"),u!=null&&u!=null&&(u.classList.remove("d-none"),u.classList.add("d-block"))),e.output.showStatus("saving..."),e.output.download(function(y,S){if(C.innerHTML="Saving...",C.setAttribute("disabled","disabled"),document.getElementsByClassName("btn-close")[1].style.display="none",S)return C.innerHTML="Download",C.removeAttribute("disabled"),e.input.showStatus(S);if(document.getElementById("siteinfo").dataset.is_premium=="False"){var L=10,k=setInterval(function(){L<=0?(clearInterval(k),C.innerHTML="Download",C.removeAttribute("disabled"),saveAs(y[0],y[1]),document.getElementsByClassName("btn-close")[1].style.display="block",Site.POST(`/api/v1/stats/ui/${document.getElementById("siteinfo").dataset.category}/count_free_download_post`,{type:"count_free_download_post"},function(){})):C.innerHTML=`${L} second${L>1?"s":""} remaining`,L-=1},1e3);Site.POST(`/api/v1/stats/ui/${document.getElementById("siteinfo").dataset.category}/count_free_download_pre`,{type:"count_free_download_pre"},function(){})}else C.innerHTML="Download",C.removeAttribute("disabled"),Site.POST(`/api/v1/stats/ui/${document.getElementById("siteinfo").dataset.category}/count_premium_download`,{type:"count_premium_download"},function(){}),saveAs(y[0],y[1])})})}if(e.globalHandlers.convertOnResize=e.globalHandlers.convertOnResize.bind(e),window.addEventListener("resize",e.globalHandlers.convertOnResize),i){var A=i.querySelectorAll(".card");if(A)for(var a=0;a<A.length;a++)(function(u){u.addEventListener("click",function(y){e.setExample.call(e,u)})})(A[a])}e.addEventListener({event:"optionchange",handler:e.convert.bind(e,Trigger.OPTIONS)});var l=t.querySelectorAll(".converter-options .input-option");if(l)for(var a=0;a<l.length;a++){var c=l[a];c.addEventListener("change",e.dispatchEvent.bind(e,"optionchange")),c.addEventListener("keyup",e.dispatchEvent.bind(e,"optionchange"))}e.addEventListener({event:"response",handler:function(v){e.log({type:"response self",data:v}),this.output.setValue(v)}}),e.addEventListener({event:"widgetshow",handler:function(v){showWidgetToggle(e,v.side,v.name)}}),e.addEventListener({event:"widgethide",handler:function(v){hideWidgetToggle(e,v.side)}}),t.tool=e,e.converter=r.converter,e.sides=t;var p=n.querySelector(".tool-favorite");p&&(p.addEventListener("click",e.favorite.bind(e)),e.favorite()),e.options.default=e.options.get()},e.override=function(n){n=n.split(".");for(var t=e,i=null,o=0;o<n.length;o++)if(i=n[o],t[i]!==void 0)o!=n.length-1&&(t=t[i]);else throw"tool."+n.splice(0,o).join(".")+" does not contain "+i;return{with:function(a){t[i]=a.bind(e)}}},e.destroy=function(){e.output.element=null,e.output.tool=null,e.input.element=null,e.input.tool=null,e.options.element=null,e.converter=null,e.sides.tool=null,e.sides.innerHTML=e.sides.innerHTML,e.sides.parentElement.removeChild(e.sides),e.sides=null;for(var n=Object.keys(e.events),t=0;t<n.length;t++){var i=n[t];e.events[i]=[]}window.removeEventListener("resize",e.globalHandlers.convertOnResize),e=null},e.input.tool=e,e.output.tool=e,e.init(),e.start=function(){return e.restore.all(),e}}var Trigger=Object.freeze({OPTIONS:1,ACTION:2,KEYPRESS:3,RESIZE:4,RESTORE:5,EXAMPLE:6,IMPORT:7,CHAIN:8});Tool.prototype.globalHandlers={convertOnResize:function(){this.convert(Trigger.RESIZE)}},Tool.prototype.setExample=function(r){var e=this,n=r.querySelector(".text-sample.input-sample span"),t=n?n.textContent:"";e.input.setValue(t),e.options.set(e.options.get(r)),e.convert(Trigger.EXAMPLE),window.scrollTo({top:e.sides.offsetTop,behavior:"smooth"})},Tool.prototype.favorite=function(r){var e=this;if(typeof Storage!="undefined"){var n=window.localStorage||null,t=JSON.parse(n&&n.favorite_tools||"[]"),i=window.location.pathname.split("/").pop();if(r){var o=t.indexOf(i);o!==-1?t.splice(o,1):t.push(i)}n&&n.setItem("favorite_tools",JSON.stringify(t));var a=t.indexOf(i)!==-1,s=fab.querySelector(".tool-favorite");s.classList.remove("active"),a&&s.classList.add("active")}},Tool.prototype.showBadge=function(r,e,n,t){if(this.hideAllBadges(r),r&&(e=="negative"||e=="positive"||e=="warning")){var i=5,o=r.querySelector(".badge-old .badge-old-title"),a=r.querySelector(".badge-old .badge-old-message");o.textContent=n,a.textContent=t,r.classList.add("badge-old-"+e);var s=r.querySelector(".badge-old").offsetHeight,d=r.querySelector(".data-wrapper");d&&(d.style.paddingTop=s+i+"px")}},Tool.prototype.siteName=function(){return/^local/.test(window.location.host)?window.location.host.split(".")[1]:window.location.host.split(".")[0]}(),Tool.prototype.hideAllBadges=function(r){if(r){var e=r.querySelector(".data-wrapper");e&&(e.style.paddingTop=""),r.classList.remove("badge-old-negative"),r.classList.remove("badge-old-positive"),r.classList.remove("badge-old-warning")}},Tool.prototype.showStatus=function(r,e){if(r){var n=1e3,t=r.querySelector("label .status"),i=Math.random();t.textContent=e,t.className="status active",t.setAttribute("animation-id",i),setTimeout(function(){i==t.getAttribute("animation-id")&&(t.classList.remove("active"),setTimeout(function(){t.textContent=""},200))},n)}},Tool.prototype.toClipboard=function(r){let e=r.element.querySelector(".data");if(navigator.userAgent.match(/ipad|iphone/i)){let n=document.createRange(),t=window.getSelection();t.removeAllRanges(),t.addRange(n),e.setSelectionRange(0,e.value.length),document.execCommand("copy"),r.showStatus("copied to clipboard!")}else{e.select();try{let n={};n["text/plain"]=new Blob([e.value],{type:"text/plain"}),navigator.clipboard.write([new ClipboardItem(n)]),r.showStatus("copied to clipboard!")}catch(n){try{navigator.clipboard.writeText(e.value).catch(()=>{document.execCommand("copy")}),r.showStatus("copied to clipboard!")}catch(t){console.log("Failed copying to clipboard: ",t),r.showStatus("can't copy")}}}};function makeWrappingExamples(){window.addEventListener("resize",updateExamples),updateExamples()}function chainSearch(r){for(var e=r.querySelector(".side.output"),n=e.querySelector(".tool-combinator .combinator-tools"),t=n.querySelectorAll(".combinator-tool"),i=e.querySelector(".side-widgets .toggle-chain .chain-search"),o=function(m){return Site.removeStopWords(m.toLowerCase())},a=o(i.value),s=0;s<t.length;s++){var d=t[s],f=o(d.querySelector(".combinator-title").textContent),w=o(d.querySelector(".combinator-description").textContent);d.classList.remove("hidden"),f.indexOf(a)===-1&&w.indexOf(a)===-1&&(d.classList.add("hidden"),n.appendChild(d))}}function makeColorpickers(){Site.applyToAllElements(".input-option.color.active.not-initialized",function(r){r.classList.remove("not-initialized"),Colorpicker.create(r)})}function makeAutosizeTextareas(){Site.applyToAllElements("textarea.autosize.not-initialized",function(r){r.classList.remove("not-initialized"),autosize(r)})}function populateChainCombinator(r,e){var n=e.querySelector(".side-widgets-toggle .toggle-chain .widget-chain-search"),t=n.querySelector(".chain-search"),i=e.querySelector(".tool-combinator .combinator-list"),o=r.getCompatibility().returns||"nothing",a=250;n.classList.remove("state-wait"),n.classList.remove("state-search"),n.classList.remove("state-error"),n.classList.add("state-wait"),t.disabled=!0,t.value="",i.scrollTop=0,t.placeholder="Connecting to server...";var s="all-tools.json?accepts={0}".format(o);Site.GET(s,function(d){var f=d.responseText;if(d.readyState==4&&d.status==200)try{var w=JSON.parse(f);if(w.error||!w.json)n.classList.remove("state-wait"),n.classList.add("state-error"),t.placeholder="Tools unavailable.";else{t.placeholder="Loading all tools...";for(var m=i.querySelector(".combinator-tools");m.firstChild;)m.removeChild(m.firstChild);for(var q=Object.keys(w.json),E=0;E<q.length;E++)for(var O=q[E],T=0;T<w.json[O].length;T++){var I=w.json[O][T],B=document.createElement("div");B.className="combinator-tool",B.setAttribute("data-url",I.url);var h=document.createElement("span");h.className="combinator-title",h.textContent=I.title;var g=document.createElement("span");g.className="combinator-description",g.textContent=I.desc,B.appendChild(h),B.appendChild(g),function(b){b.addEventListener("click",function(){chainToolWith(r,this.getAttribute("data-url")),r.output.hideWidgetToggle()})}(B),m.appendChild(B)}setTimeout(function(){n.classList.remove("state-wait"),n.classList.add("state-search"),t.disabled=!1,t.placeholder="Search all tools...",t.focus(),e.classList.remove("combinator-active"),e.classList.add("combinator-active")},a)}}catch(b){n.classList.remove("state-wait"),n.classList.add("state-error"),t.placeholder="Can't load."}else d.readyState==4&&(n.classList.remove("state-wait"),n.classList.add("state-error"),t.placeholder="Unexpected response.")})}function makeToggleableWidgets(r,e){for(var n=r[e].element.querySelector(".side-widgets"),t=n.querySelector(".side-widgets-wrapper"),i=n.querySelector(".side-widgets-toggle"),o=n.querySelectorAll(".widget"),a=0;a<o.length;a++)(function(d){d.addEventListener("click",function(){var f=d.getAttribute("data-toggle"),w=d.getAttribute("data-hides-toggle")!==null;f&&r.dispatchEvent("widgetshow",{side:e,cause:"click",name:f}),w&&r.dispatchEvent("widgethide",{side:e,cause:"click"})})})(o[a]);var s=i.querySelector(".toggle-hide");s.addEventListener("click",function(){r.dispatchEvent("widgethide",{cause:"close",side:e})}),window.addEventListener("keyup",function(d){var f=d.key.toLowerCase(),w=f=="esc"||f=="escape",m=n.classList.contains("toggled");w&&m&&r.dispatchEvent("widgethide",{cause:"esc",side:e})})}function hideWidgetToggle(r,e){var n=r[e].element;if(n){var t=n.querySelector(".side-widgets"),i=t.querySelector(".side-widgets-wrapper"),o=t.querySelector(".side-widgets-toggle");i.style.transform="rotateX(0deg) translateY(0px) translateZ(0px)",o.style.transform="rotateX(90deg) translateY(-50%) translateZ({0}px)".format(t.offsetHeight/2),t.classList.remove("toggled")}}function showWidgetToggle(r,e,n){var t=r[e].element;if(t){var i=t.querySelector(".side-widgets"),o=i.querySelector(".side-widgets-wrapper"),a=i.querySelector(".side-widgets-toggle");if(hideWidgetToggle(r,e),n){var s=a.querySelector("."+n);if(s){for(var d=i.querySelectorAll(".side-widgets-toggle .toggle-wrapper .widget-toggle"),f=0;f<d.length;f++)d[f].classList.remove("toggle-active");s.classList.add("toggle-active"),a.style.transform="rotateX(0deg) translateY(0px) translateZ(0px)",o.style.transform="rotateX(-90deg) translateY(50%) translateZ({0}px)".format(i.offsetHeight/2),i.classList.remove("toggled"),i.classList.add("toggled")}else window.raise("Widget tried to toggle section .{0}, but it does not exists.".format(n))}}}function updateExamples(){for(var r=document.querySelectorAll(".examples .wrapper"),e=0;e<r.length;e++){var n=r[e],t=n.querySelector(".sample");if(!t.querySelector(".file-sample")){t.classList.remove("big");var i=5,o=n.getBoundingClientRect().width,a=t.scrollWidth;a>=o-i&&t.classList.add("big")}}}function buildURLQuery(r){for(var e=[],n=Object.keys(r),t=0;t<n.length;t++){var i=n[t],o=r[i];e.push(encodeURIComponent(i)+(o?"="+encodeURIComponent(o):""))}return"?"+e.join("&")}function getURLQuery(r){for(var e=window.location.search.substring(1).split("&"),n={},t=0;t<e.length;t++){var i=e[t].split("=");try{var o=decodeURIComponent(i[0])}catch(s){continue}try{var a=decodeURIComponent(i[1]||"")}catch(s){var a=null}(a=="true"||a=="yes"||a=="false"||a=="no")&&(a=a=="true"||a=="yes"),o&&(n[o]=a)}return r?n[r]:n}function isEquivalent(r,e){if(typeof r!="object"||typeof e!="object")return!1;var n=Object.getOwnPropertyNames(r),t=Object.getOwnPropertyNames(e);if(n.length!=t.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(r[o]!==e[o])return!1}return!0}function sizeToString(r,e){if(r==0)return"empty";var n=1024,t=e||2,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(r)/Math.log(n));return parseFloat((r/Math.pow(n,o)).toFixed(t))+i[o]}
;
